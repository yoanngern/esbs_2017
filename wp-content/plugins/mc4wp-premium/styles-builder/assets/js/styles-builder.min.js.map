{"version":3,"sources":["styles-builder/assets/js/styles-builder.js"],"names":["require","undefined","e","t","n","r","s","o","u","a","i","f","Error","code","l","exports","call","length","1","module","AccordionElement","element","this","heading","querySelector","content","setAttribute","style","display","addEventListener","toggle","bind","prototype","open","close","show","offsetParent","className","2","accordionElements","accordions","children","tagName","toUpperCase","acEl","push","./_accordion-element.js","3","Option","$","window","jQuery","lightenColor","col","amt","usePound","slice","num","parseInt","b","g","String","toString","context","$elements","$context","options","optionElements","document","querySelectorAll","id","createOptions","applyStyles","choices","css","margin-right","buttons","text-align","cursor","padding","text-shadow","box-sizing","line-height","vertical-align","form","max-width","getPxOrPercentageValue","getValue","font-size","getPxValue","color","getColorValue","background-color","border-color","border-width","bgRepeat","property","indexOf","labels","margin-bottom","find","labelsFontStyle","font-weight","font-style","fields","border-radius","height","background-image","filter","hoverColor","setValue","messages","html","setButtonHoverStyles","setDefaultButtonStyles","setFieldFocusStyles","setDefaultFieldStyles","on","wpColorPicker","change","setTimeout","clear","init","$form","contents","focus","focusout","hover","./_option.js","4","$element","value","trim","fallback","substring","5","preview","$imageUploadTarget","Accordion","FormPreview","iframeElement","getElementById","original_send_to_editor","send_to_editor","load","click","$generatedCss","text","is","parents","submit","siblings","tb_show","checkValidity","imgurl","attr","val","tb_remove","./_accordion.js","./_form-preview.js"],"mappings":"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","file":"styles-builder.min.js","sourcesContent":["(function () { var require = undefined; var define = undefined; (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nfunction AccordionElement(element) {\n    this.element = element;\n    this.heading = element.querySelector('h2, h3, h4');\n    this.content = element.querySelector('div');\n\n    element.setAttribute('class','accordion');\n    this.heading.setAttribute('class','accordion-heading');\n    this.content.setAttribute('class','accordion-content');\n    this.content.style.display = 'none';\n    this.heading.addEventListener('click', this.toggle.bind(this));\n}\n\n/**\n * Open this accordion\n */\nAccordionElement.prototype.open = function() {\n    this.toggle(true);\n};\n\n/**\n * Close this accordion\n */\nAccordionElement.prototype.close = function() {\n    this.toggle(false);\n};\n\n/**\n * Toggle this accordion\n *\n * @param show\n */\nAccordionElement.prototype.toggle = function(show) {\n    if( typeof(show) !== \"boolean\" ) {\n        show = ( this.content.offsetParent === null );\n    }\n\n    this.content.style.display = show ? 'block' : 'none';\n    this.element.className = 'accordion ' + ( ( show ) ? 'expanded' : 'collapsed' );\n};\n\nmodule.exports = AccordionElement;\n},{}],2:[function(require,module,exports){\n'use strict';\n\nvar AccordionElement = require('./_accordion-element.js');\n\nfunction Accordion(element) {\n\n\tvar accordions = [],\n\t\taccordionElements;\n\n\t// add class to container\n\telement.className+= \" accordion-container\";\n\n\t// find accordion blocks\n\taccordionElements = element.children;\n\n\t// hide all content blocks\n\tfor( var i=0; i < accordionElements.length; i++) {\n\n\t\t// only act on direct <div> children\n\t\tif( accordionElements[i].tagName.toUpperCase() !== 'DIV' ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\t// create new accordion\n\t\tvar acEl = new AccordionElement(accordionElements[i]);\n\n\t\t// add to list of accordions\n\t\taccordions.push(acEl);\n\t}\n\n\t// open first accordion\n\taccordions[0].open();\n}\n\nmodule.exports = Accordion;\n},{\"./_accordion-element.js\":1}],3:[function(require,module,exports){\n'use strict';\n\nvar Option = require('./_option.js'),\n\t$ = window.jQuery;\n\nfunction lightenColor(col, amt) {\n\n\tvar usePound = false;\n\n\tif (col[0] == \"#\") {\n\t\tcol = col.slice(1);\n\t\tusePound = true;\n\t}\n\n\tvar num = parseInt(col,16);\n\n\tvar r = (num >> 16) + amt;\n\n\tif (r > 255) r = 255;\n\telse if  (r < 0) r = 0;\n\n\tvar b = ((num >> 8) & 0x00FF) + amt;\n\n\tif (b > 255) b = 255;\n\telse if  (b < 0) b = 0;\n\n\tvar g = (num & 0x0000FF) + amt;\n\n\tif (g > 255) g = 255;\n\telse if (g < 0) g = 0;\n\n\treturn (usePound?\"#\":\"\") + String(\"000000\" + (g | (b << 8) | (r << 16)).toString(16)).slice(-6);\n}\n\n\nvar FormPreview = function(context) {\n\tvar $context = $(context),\n\t\t$elements;\n\n\t// create option elements\n\tvar options = createOptions();\n\n\t// attach events\n\t$(\".mc4wp-option\").on('input change', applyStyles);\n\t$('.color-field').wpColorPicker({\n\t\tchange: function() {\n\t\t\twindow.setTimeout(applyStyles, 10);\n\t\t},\n\t\tclear: applyStyles\n\t});\n\n\t// initialize form preview\n\tfunction init() {\n\t\tvar $form = $context.contents().find('.mc4wp-form');\n\n\t\t$elements = {\n\t\t\tform: $form,\n\t\t\tlabels: $form.find('label'),\n\t\t\tfields: $form.find('input[type=\"text\"], input[type=\"email\"], input[type=\"url\"], input[type=\"number\"], input[type=\"date\"], select, textarea'),\n\t\t\tchoices: $form.find('input[type=\"radio\"], input[type=\"checkbox\"]'),\n\t\t\tbuttons: $form.find('input[type=\"submit\"], input[type=\"button\"], button'),\n\t\t\tmessages: $form.find('.mc4wp-alert'),\n\t\t\tcss: $context.contents().find('#custom-css')\n\t\t};\n\n\t\t// apply custom styles to fields (focus)\n\t\t$elements.fields.focus(setFieldFocusStyles);\n\t\t$elements.fields.focusout(setDefaultFieldStyles);\n\n\t\t// apply custom styles to buttons (hover)\n\t\t$elements.buttons.hover(setButtonHoverStyles, setDefaultButtonStyles);\n\t}\n\n\t// create option elements from HTML elements\n\tfunction createOptions() {\n\t\tvar optionElements = document.querySelectorAll('.mc4wp-option');\n\t\tvar options = {};\n\n\t\tfor( var i=0; i<optionElements.length; i++ ) {\n\t\t\toptions[ optionElements[i].id ] = new Option( optionElements[i] );\n\t\t}\n\n\t\treturn options;\n\t}\n\n\tfunction clearStyles() {\n\t\t$elements.form.removeAttr('style');\n\t\t$elements.labels.removeAttr('style');\n\t\t$elements.fields.removeAttr('style');\n\t\t$elements.buttons.removeAttr('style');\n\t\t$elements.choices.removeAttr('style');\n\t\t$elements.messages.removeAttr('style');\n\t}\n\n\tfunction applyStyles() {\n\n\t\t$elements.choices.css({\n\t\t\t'display': 'inline-block',\n\t\t\t'margin-right': '6px'\n\t\t});\n\n\t\t$elements.buttons.css({\n\t\t\t\"text-align\": \"center\",\n\t\t\t\"cursor\": \"pointer\",\n\t\t\t\"padding\": \"6px 12px\",\n\t\t\t\"text-shadow\": \"none\",\n\t\t\t\"box-sizing\": \"border-box\",\n\t\t\t\"line-height\": \"normal\",\n\t\t\t\"vertical-align\": \"top\"\n\t\t});\n\n\t\t// apply custom styles to form\n\t\t$elements.form.css({\n\t\t\t'max-width': options[\"form-width\"].getPxOrPercentageValue(),\n\t\t\t'text-align': options[\"form-text-align\"].getValue(),\n\t\t\t'font-size': options[\"form-font-size\"].getPxValue(),\n\t\t\t\"color\": options[\"form-font-color\"].getColorValue(),\n\t\t\t\"background-color\": options[\"form-background-color\"].getColorValue(),\n\t\t\t\"border-color\": options[\"form-border-color\"].getColorValue(),\n\t\t\t\"border-width\": options[\"form-border-width\"].getPxValue(),\n\t\t\t\"padding\": options[\"form-padding\"].getPxValue()\n\t\t});\n\n\t\t// responsive form width\n\t\tif( options[\"form-width\"].getValue().length > 0 ) {\n\t\t\t$elements.form.css('width', '100%');\n\t\t}\n\n\t\t// set background image (if set, otherwise reset)\n\t\tif( options[\"form-background-image\"].getValue().length > 0 ) {\n\t\t\t$elements.form.css('background-image', 'url(\"' + options[\"form-background-image\"].getValue() + '\")');\n\n\t\t\t\n\t\t\tvar bgRepeat = options[\"form-background-repeat\"].getValue();\n\t\t\tvar property = (['cover'].indexOf(bgRepeat) > -1) ? 'background-size' : 'background-repeat';\n\t\t\t$elements.form.css(property, bgRepeat);\n\t\t} else {\n\t\t\t$elements.form.css('background-image', 'initial');\n\t\t\t$elements.form.css('background-repeat','');\n\t\t\t$elements.form.css('background-size','');\n\t\t}\n\n\t\tif( options[\"form-border-width\"].getValue() > 0 ) {\n\t\t\t$elements.form.css( 'border-style', 'solid' );\n\t\t}\n\n\t\t// apply custom styles to labels\n\t\t$elements.labels.css({\n\t\t\t\"margin-bottom\": \"6px\",\n\t\t\t\"box-sizing\": \"border-box\",\n\t\t\t\"vertical-align\": \"top\",\n\t\t\t\"color\": options[\"labels-font-color\"].getColorValue(),\n\t\t\t\"font-size\": options[\"labels-font-size\"].getPxValue(),\n\t\t\t\"display\": options[\"labels-display\"].getValue(),\n\t\t\t\"max-width\": options[\"labels-width\"].getPxOrPercentageValue()\n\t\t});\n\n\t\t// responsive label width\n\t\tif( options[\"labels-width\"].getValue().length > 0 ) {\n\t\t\t$elements.labels.css('width', '100%');\n\t\t}\n\n\t\t// reset font style of <span> elements inside <label> elements\n\t\t$elements.labels.find('span').css('font-weight', 'normal' );\n\n\t\t// only set label text style if it's set\n\t\tvar labelsFontStyle = options[\"labels-font-style\"].getValue();\n\t\tif( labelsFontStyle.length > 0 ) {\n\t\t\t$elements.labels.css({\n\t\t\t\t\"font-weight\": (labelsFontStyle == 'bold' || labelsFontStyle == 'bolditalic') ? 'bold' : 'normal',\n\t\t\t\t\"font-style\": (labelsFontStyle == 'italic' || labelsFontStyle == 'bolditalic') ? 'italic' : 'normal'\n\t\t\t});\n\t\t}\n\n\t\t// apply custom styles to inputs\n\t\t$elements.fields.css({\n\t\t\t\"padding\": '6px 12px',\n\t\t\t\"margin-bottom\": \"6px\",\n\t\t\t\"box-sizing\": \"border-box\",\n\t\t\t\"vertical-align\": \"top\",\n\t\t\t\"border-width\": options[\"fields-border-width\"].getPxValue(),\n\t\t\t\"border-color\": options[\"fields-border-color\"].getColorValue(),\n\t\t\t\"border-radius\": options[\"fields-border-radius\"].getPxValue(),\n\t\t\t\"display\": options[\"fields-display\"].getValue(),\n\t\t\t\"max-width\": options[\"fields-width\"].getPxOrPercentageValue(),\n\t\t\t\"height\": options[\"fields-height\"].getPxValue()\n\t\t});\n\n\t\t// responsive field width\n\t\tif( options[\"fields-width\"].getValue().length > 0 ) {\n\t\t\t$elements.fields.css('width', '100%');\n\t\t}\n\n\t\t// apply custom styles to buttons\n\t\t$elements.buttons.css({\n\t\t\t'border-width': options[\"buttons-border-width\"].getPxValue(),\n\t\t\t'border-color': options[\"buttons-border-color\"].getColorValue(),\n\t\t\t\"border-radius\": options[\"buttons-border-radius\"].getPxValue(),\n\t\t\t'max-width': options[\"buttons-width\"].getValue(),\n\t\t\t'height': options[\"buttons-height\"].getPxValue(),\n\t\t\t'background-color': options[\"buttons-background-color\"].getColorValue(),\n\t\t\t'color': options[\"buttons-font-color\"].getColorValue(),\n\t\t\t'font-size': options[\"buttons-font-size\"].getPxValue()\n\t\t});\n\n\t\t// responsive buttons width\n\t\tif( options[\"buttons-width\"].getValue().length ) {\n\t\t\t$elements.buttons.css('width', '100%');\n\t\t}\n\n\t\t// add border style if border-width is set and bigger than 0\n\t\tif( options[\"buttons-border-width\"].getValue() > 0 ) {\n\t\t\t$elements.buttons.css( 'border-style', 'solid' );\n\t\t}\n\n\t\t// add background reset if custom button background was set\n\t\tif( options[\"buttons-background-color\"].getColorValue().length ) {\n\t\t\t$elements.buttons.css({\n\t\t\t\t\"background-image\": \"none\",\n\t\t\t\t\"filter\": \"none\"\n\t\t\t});\n\n\t\t\t// calculate hover color\n\t\t\tvar hoverColor = lightenColor( options[\"buttons-background-color\"].getColorValue(), -20 );\n\t\t\toptions[\"buttons-hover-background-color\"].setValue(hoverColor);\n\t\t} else {\n\t\t\toptions[\"buttons-hover-background-color\"].setValue('');\n\t\t}\n\n\t\tif( options[\"buttons-border-color\"].getColorValue().length ) {\n\t\t\tvar hoverColor = lightenColor( options[\"buttons-border-color\"].getColorValue(), -20 );\n\t\t\toptions[\"buttons-hover-border-color\"].setValue(hoverColor);\n\t\t} else {\n\t\t\toptions[\"buttons-hover-border-color\"].setValue('');\n\t\t}\n\n\t\t// apply custom styles to messages\n\t\t$elements.messages.filter('.mc4wp-success').css({\n\t\t\t'color': options[\"messages-font-color-success\"].getColorValue()\n\t\t});\n\n\t\t$elements.messages.filter('.mc4wp-error').css({\n\t\t\t'color': options[\"messages-font-color-error\"].getColorValue()\n\t\t});\n\n\t\t// print custom css in container element\n\t\t$elements.css.html(options[\"manual-css\"].getValue());\n\t}\n\n\tfunction setButtonHoverStyles() {\n\t\t// calculate darker color\n\t\t$elements.buttons.css('background-color', options[\"buttons-hover-background-color\"].getColorValue() );\n\t\t$elements.buttons.css('border-color', options[\"buttons-hover-border-color\"].getColorValue() );\n\t}\n\n\tfunction setDefaultButtonStyles() {\n\t\t$elements.buttons.css({\n\t\t\t'border-color': options[\"buttons-border-color\"].getColorValue(),\n\t\t\t'background-color': options[\"buttons-background-color\"].getColorValue()\n\t\t});\n\t}\n\n\tfunction setFieldFocusStyles() {\n\t\tif( options[\"fields-focus-outline-color\"].getColorValue().length ) {\n\t\t\t$elements.fields.css('outline', '2px solid ' + options[\"fields-focus-outline-color\"].getColorValue() );\n\t\t} else {\n\t\t\tsetDefaultFieldStyles();\n\t\t}\n\t}\n\n\tfunction setDefaultFieldStyles() {\n\t\t$elements.fields.css('outline', '' );\n\t}\n\n\treturn {\n\t\tinit: init,\n\t\tapplyStyles: applyStyles\n\t}\n\n};\n\n\nmodule.exports = FormPreview;\n\n},{\"./_option.js\":4}],4:[function(require,module,exports){\n'use strict';\n\nvar Option = function( element ) {\n\tthis.element = element;\n\tthis.$element = window.jQuery(element);\n};\n\nOption.prototype.getColorValue = function() {\n\tthis.element.value = this.element.value.trim();\n\n\tif( this.element.value.length > 0 ) {\n\t\tif( this.element.className.indexOf('wp-color-picker') !== -1) {\n\t\t\treturn this.$element.wpColorPicker('color');\n\t\t} else {\n\t\t\treturn this.element.value;\n\t\t}\n\t}\n\n\treturn '';\n};\n\nOption.prototype.getPxOrPercentageValue = function(fallback) {\n\tvar value = this.element.value.trim();\n\n\tif( value.length > 0 ) {\n\t\tif( value.substring(value.length-2, value.length) !== 'px' && value.substring(value.length-1, value.length) !== '%') {\n\t\t\tvalue = parseInt(value) + 'px';\n\t\t}\n\t\treturn value;\n\t}\n\n\treturn fallback || '';\n};\n\nOption.prototype.getPxValue = function(fallback) {\n\tthis.element.value = this.element.value.trim();\n\n\tif( this.element.value.length > 0 ) {\n\t\treturn parseInt( this.element.value ) + \"px\";\n\t}\n\n\treturn fallback || '';\n};\n\nOption.prototype.getValue = function(fallback) {\n\tthis.element.value = this.element.value.trim();\n\n\tif( this.element.value.length > 0 ) {\n\t\treturn this.element.value;\n\t}\n\n\treturn fallback || '';\n};\n\nOption.prototype.clear = function() {\n\tthis.element.value = '';\n};\n\nOption.prototype.setValue = function(value) {\n\tthis.element.value = value;\n};\n\nmodule.exports = Option;\n},{}],5:[function(require,module,exports){\n'use strict';\n\nvar $ = window.jQuery;\nvar Accordion = require('./_accordion.js');\nvar FormPreview = require('./_form-preview.js');\n\nvar iframeElement = document.getElementById('mc4wp-css-preview');\nvar preview;\nvar $imageUploadTarget;\nvar original_send_to_editor = window.send_to_editor;\nvar accordion;\n\n// init\npreview = new FormPreview( iframeElement );\n$(iframeElement).load(function() {\n\tpreview.init();\n\tpreview.applyStyles();\n});\n\n// turn settings page into accordion\naccordion = new Accordion(document.querySelector('.mc4wp-accordion'));\n\n// show generated CSS button\n$(\".mc4wp-show-css\").click(function() {\n\tvar $generatedCss = $(\"#mc4wp_generated_css\");\n\t$generatedCss.toggle();\n\tvar text = ( $generatedCss.is(':visible') ? 'Hide' : 'Show' ) + \" generated CSS\";\n\t$(this).text(text);\n});\n\n$(\".mc4wp-form-select\").change( function() {\n\t$(this).parents('form').submit();\n});\n\n// show thickbox when clicking on \"upload-image\" buttons\n$(\".upload-image\").click( function() {\n\t$imageUploadTarget = $(this).siblings('input');\n\ttb_show('', 'media-upload.php?type=image&TB_iframe=true');\n});\n\n$(\"#form-css-settings\").change(function() {\n\tthis.checkValidity();\n})\n\n// attach handler to \"send to editor\" button\nwindow.send_to_editor = function(html){\n\tif( $imageUploadTarget ) {\n\t\tvar imgurl = $(html).attr('src'); // $('img',html).attr('src');\n\t\t$imageUploadTarget.val(imgurl);\n\t\ttb_remove();\n\t} else {\n\t\toriginal_send_to_editor(html);\n\t}\n\n\tpreview.applyStyles();\n};\n\n},{\"./_accordion.js\":2,\"./_form-preview.js\":3}]},{},[5]);\n })();"]}